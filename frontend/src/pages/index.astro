---
import { ClientRouter } from 'astro:transitions';
import "@fontsource/inter/400.css";
import "@fontsource/inter/600.css";
import "@fontsource/inter/700.css";
import "@fontsource/jetbrains-mono/400.css"; 

import FloatingMenu from '../components/layout/FloatingMenu.astro';
import MobileBottomMenu from '../components/layout/MobileBottomMenu.astro';
import { SITE } from '../site.config';

// Landing Sections
import Hero from '../components/landing/Hero.astro';
import Features from '../components/landing/Features.astro';
import Curriculum from '../components/landing/Curriculum.astro';
import Footer from '../components/landing/Footer.astro';
---

<!doctype html>
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8" />
		<link rel="icon" type="image/x-icon" href="/aprenda-c.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
		
		<!-- SEO Primário -->
		<title>{SITE.title}</title>
		<meta name="title" content={SITE.title} />
		<meta name="description" content={SITE.description} />
		<link rel="canonical" href={`${SITE.url}/`} />

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content={`${SITE.url}/`} />
		<meta property="og:title" content={SITE.title} />
		<meta property="og:description" content={SITE.description} />
		<meta property="og:image" content={new URL(SITE.defaultImage, SITE.url).href} />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />
		<meta property="og:site_name" content={SITE.name} />

		<!-- Twitter -->
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:url" content={`${SITE.url}/`} />
		<meta name="twitter:title" content={SITE.title} />
		<meta name="twitter:description" content={SITE.description} />
		<meta name="twitter:image" content={new URL(SITE.defaultImage, SITE.url).href} />

		<!-- Locale -->
		<meta property="og:locale" content="pt_BR" />

		<!-- Sitemap -->
		<link rel="sitemap" href="/sitemap-index.xml" />

		<!-- Schema.org JSON-LD -->
		<script type="application/ld+json" set:html={JSON.stringify({
			"@context": "https://schema.org",
			"@graph": [
				{
					"@type": "WebSite",
					"@id": `${SITE.url}/#website`,
					"url": SITE.url,
					"name": SITE.name,
					"description": SITE.description,
					"inLanguage": "pt-BR"
				},
				{
					"@type": "Organization",
					"@id": `${SITE.url}/#organization`,
					"name": SITE.name,
					"url": SITE.url,
					"logo": {
						"@type": "ImageObject",
						"url": new URL("/aprenda-c.ico", SITE.url).href
					},
					"sameAs": [
						SITE.github,
						`https://twitter.com/${SITE.twitter.replace('@', '')}`
					]
				},
				{
					"@type": "WebPage",
					"@id": `${SITE.url}/#webpage`,
					"url": SITE.url,
					"name": SITE.title,
					"isPartOf": { "@id": `${SITE.url}/#website` },
					"about": { "@id": `${SITE.url}/#organization` },
					"description": SITE.description,
					"inLanguage": "pt-BR"
				}
			]
		})} />

		<ClientRouter />

		<style is:global>
		/* Variáveis de Tema */
		:root {
			--bg-app: #050505;
			--text-primary: #e4e4e7;
			--text-secondary: #a1a1aa;
			--accent-blue: #3b82f6;
			--border-subtle: rgba(255,255,255,0.05);
		}

		html {
			background: var(--bg-app);
			scroll-behavior: smooth;
		}

		body { 
			margin: 0; 
			padding: 0;
			font-family: 'Inter', sans-serif; 
			color: var(--text-primary); 
			overflow-x: hidden;
			-webkit-font-smoothing: antialiased;
		}

		* { box-sizing: border-box; }

		/* Menu Handling */
		.desktop-menu {
			position: fixed;
			top: 24px;
			left: 50%;
			transform: translateX(-50%);
			z-index: 100;
		}

		@media (max-width: 768px) {
			.desktop-menu {
				display: none !important;
			}
			
			/* Adjust for mobile bottom menu spacing if needed */
			main {
				padding-bottom: 80px;
			}
		}
		</style>
	</head>
	<body>
        <!-- Menus -->
        <div class="desktop-menu">
            <FloatingMenu />
        </div>
        <MobileBottomMenu />

        <!-- Main Content -->
		<main>
            <Hero />
            <Features />
            <Curriculum />
            <Footer />
		</main>
	</body>
</html>
